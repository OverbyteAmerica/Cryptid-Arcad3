<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bigfoot Cyber Hunt Training</title>
<style>
  body {
    margin: 0;
    background: #050505;
    color: #aa66ff;
    font-family: monospace;
    text-align: center;
  }
  h1 { margin: 8px; color: #aa66ff; }
  canvas {
    border: 3px solid #aa66ff;
    background: #111;
    touch-action: none;
  }
  #info {
    font-size: 14px;
    padding: 6px;
    color: #cc99ff;
    max-width: 90%;
    margin: auto;
  }
  #barometer {
    height: 10px;
    width: 80%;
    background: #333;
    margin: 6px auto;
    border-radius: 5px;
    overflow: hidden;
  }
  #barFill {
    height: 100%;
    width: 0%;
    background: #aa66ff;
    transition: width 0.3s;
  }
</style>
</head>
<body>
<h1>BIGFOOT: CYBER TRAINING</h1>
<div id="info">Cyber Training Exercise: Bigfoot is practicing evasion. Avoid network hunters (IDS, scanners, packet trackers). Scan beams indicate active detection zones. Use stealth and observation to survive each training module.</div>
<div id="barometer"><div id="barFill"></div></div>
<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let size = Math.min(window.innerWidth, 500);
canvas.width = size;
canvas.height = size;

const grid = 12;
const tile = canvas.width / grid;

let level = 1;
let fog = [];
let glitch = 0;

let player = {x: 1, y: 1};
let hunters = [];

function newLevel(){
  hunters = [];
  for(let i=0;i<level;i++){
    hunters.push({
      x: Math.floor(Math.random()*grid),
      y: Math.floor(Math.random()*grid),
      dir: Math.floor(Math.random()*4)
    });
  }
  fog = Array(grid).fill().map(()=>Array(grid).fill(true));

  document.getElementById('info').innerHTML =
  `Bigfoot Training Exercise: You are practicing the art of evasion. Avoid network hunters (IDS, scanners, packet trackers). Scan beams indicate active detection zones. Use stealth and observation to survive each training module.<br>Module ${level}: Network detection systems intensify.`;
}

newLevel();

function reveal(){
  for(let dx=-2;dx<=2;dx++){
    for(let dy=-2;dy<=2;dy++){
      let x = player.x + dx;
      let y = player.y + dy;
      if(x>=0 && y>=0 && x<grid && y<grid){
        fog[y][x] = false;
      }
    }
  }
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // grid
  for(let y=0;y<grid;y++){
    for(let x=0;x<grid;x++){
      ctx.strokeStyle = "#330044";
      ctx.strokeRect(x*tile,y*tile,tile,tile);
    }
  }

  reveal();

  // player
  ctx.fillStyle = "#cc66ff";
  ctx.shadowColor = "#cc66ff";
  ctx.shadowBlur = 12;
  ctx.fillRect(player.x*tile+4,player.y*tile+4,tile-8,tile-8);
  ctx.shadowBlur = 0;

  // hunters + scan beams
  hunters.forEach(h=>{
    ctx.fillStyle = "#ff0044";
    ctx.shadowColor = "#ff0044";
    ctx.shadowBlur = 10;
    ctx.fillRect(h.x*tile+6,h.y*tile+6,tile-12,tile-12);
    ctx.shadowBlur = 0;

    ctx.fillStyle = "rgba(255,0,68,0.3)";
    if(h.dir === 0) ctx.fillRect(h.x*tile,0,tile,h.y*tile);
    if(h.dir === 1) ctx.fillRect((h.x+1)*tile,h.y*tile,canvas.width,h.y*tile);
    if(h.dir === 2) ctx.fillRect(h.x*tile,(h.y+1)*tile,tile,canvas.height-(h.y+1)*tile);
    if(h.dir === 3) ctx.fillRect(0,h.y*tile,h.x*tile,tile);
  });

  // fog
  for(let y=0;y<grid;y++){
    for(let x=0;x<grid;x++){
      if(fog[y][x]){
        ctx.fillStyle = "rgba(0,0,0,0.85)";
        ctx.fillRect(x*tile,y*tile,tile,tile);
      }
    }
  }

  // glitch effect for suspense
  if(glitch>0){
    ctx.fillStyle = "rgba(170,102,255,"+ (glitch/5) + ")";
    ctx.fillRect(0,0,canvas.width,canvas.height);
    glitch--;
  }

  // barometer (Network Threat Meter)
  document.getElementById('barFill').style.width = Math.min((level-1)*10,100)+'%';
}

function move(dx,dy){
  player.x = Math.max(0,Math.min(grid-1,player.x+dx));
  player.y = Math.max(0,Math.min(grid-1,player.y+dy));
  huntersMove();
  detect();

  if(player.x === grid-1 && player.y === grid-1){
    level++;
    player = {x:1,y:1};
    newLevel();
  }
}

function huntersMove(){
  hunters.forEach(h=>{
    if(Math.random()<0.5){
      if(h.x < player.x) h.x++;
      else if(h.x > player.x) h.x--;
    }else{
      if(h.y < player.y) h.y++;
      else if(h.y > player.y) h.y--;
    }

    if(Math.random()<0.2) h.dir = Math.floor(Math.random()*4);

    let dist = Math.abs(player.x-h.x)+Math.abs(player.y-h.y);
    if(dist<3) glitch=3;
  });
}

function detect(){
  hunters.forEach(h=>{
    if(h.x===player.x && h.y===player.y){
      alert("DETECTED! Bigfoot has been captured by the network. Training module failed.");
      level = 1;
      player = {x:1,y:1};
      newLevel();
    }
  });
}

window.addEventListener("keydown",e=>{
  if(e.key === "ArrowUp") move(0,-1);
  if(e.key === "ArrowDown") move(0,1);
  if(e.key === "ArrowLeft") move(-1,0);
  if(e.key === "ArrowRight") move(1,0);
});

canvas.addEventListener("touchstart",e=>{
  let t = e.touches[0];
  let rect = canvas.getBoundingClientRect();
  let x = t.clientX - rect.left;
  let y = t.clientY - rect.top;

  if(x < canvas.width/3) move(-1,0);
  else if(x > canvas.width*2/3) move(1,0);
  else if(y < canvas.height/2) move(0,-1);
  else move(0,1);
});

function loop(){
  draw();
  requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>

