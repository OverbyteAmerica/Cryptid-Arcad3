<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>DEFENDERS ‚Äî Lab 1: The Broken Network</title>
<style>
*,*::before,*::after{box-sizing:border-box;}
body{background-color:#000;color:#00ffcc;font-family:'Courier New',Courier,monospace;font-size:16px;line-height:1.4;margin:0;padding:20px;overflow-x:hidden;}
h1,h2,h3,h4{font-family:'Courier New',Courier,monospace;color:#00ffcc;margin:0 0 12px 0;}
h1{font-size:2rem;}h2{font-size:1.6rem;}h3{font-size:1.3rem;}
a{color:#00ffcc;text-decoration:none;}a:hover{text-decoration:underline;}
.hidden{display:none;}.center{text-align:center;}
.panel{border:1px solid #00ffcc;padding:18px;margin:20px 0;background-color:rgba(0,0,0,0.85);border-radius:6px;box-shadow:0 0 12px rgba(0,255,204,0.4);}
button{background-color:#000;border:1px solid #00ffcc;color:#00ffcc;padding:10px 16px;cursor:pointer;font-family:monospace;font-size:0.95rem;border-radius:4px;transition:all 0.2s ease;display:inline-block;}
button:hover{background-color:#002;box-shadow:0 0 8px #00ffcc;}
button:disabled{opacity:0.4;cursor:not-allowed;}
#cookie{position:fixed;top:20px;right:20px;width:240px;border:1px solid #00ffcc;background:#000;padding:12px;box-shadow:0 0 18px rgba(0,255,204,.5);font-size:0.9rem;z-index:9999;border-radius:8px;}
#cookie-avatar{font-size:1.6rem;margin-bottom:6px;}
#cookie-text{opacity:0.95;line-height:1.4;}
#cookie::before{content:"";position:absolute;inset:0;background:linear-gradient(rgba(0,255,204,0.05),transparent);pointer-events:none;}
.boot{font-size:1.1rem;margin-bottom:20px;white-space:pre-wrap;word-break:break-word;min-height:60px;}
.typing-cursor::after{content:"_";animation:blink 1s step-end infinite;}
@keyframes blink{from,to{opacity:0;}50%{opacity:1;}}
.log{background-color:#001;border:1px solid #00ffcc;padding:12px;margin-top:20px;height:220px;overflow-y:auto;font-size:0.85rem;border-radius:4px;box-shadow:0 0 10px rgba(0,255,204,0.3);}
.log p{margin:3px 0;}.warn{color:#ffaa00;}.danger{color:#ff4444;}.success{color:#00ffcc;}.info{color:#888;}
#pb-outer{background:rgba(0,255,204,0.1);border:1px solid #00ffcc44;border-radius:4px;height:8px;margin:10px 0 20px;overflow:hidden;}
#pb{height:100%;background:#00ffcc;width:0%;transition:width 0.5s ease;box-shadow:0 0 8px #00ffcc;}
.node-action{display:flex;align-items:flex-start;gap:16px;margin:14px 0;padding:14px;border:1px solid rgba(0,255,204,0.18);border-radius:4px;}
.node-action .desc{flex:1;font-size:0.85rem;opacity:0.75;line-height:1.6;}
.node-action button{min-width:200px;text-align:left;}
.cmd{font-size:0.75rem;opacity:0.5;display:block;margin-top:4px;font-style:italic;}
</style>
</head>
<body>

<div id="cookie"><div id="cookie-avatar">üêæ</div><div id="cookie-text">COOKIE v1.3 ‚Äî initializing...</div></div>

<h1>DEFENDERS GUILD</h1>
<p style="opacity:0.6;margin:0 0 4px;">SEASON 1 ‚Äî PHASE 1: ORIENTATION</p>
<h2>LAB 01 // THE BROKEN NETWORK</h2>
<div id="pb-outer"><div id="pb"></div></div>

<div class="panel"><div class="boot typing-cursor" id="boot-text"></div></div>

<div class="panel">
  <h3>üìã MISSION BRIEF</h3>
  <p><strong>Skill Focus:</strong> Network scanning ¬∑ Traffic analysis ¬∑ Secure access</p>
  <p><strong>Role Alignment:</strong> SOC Tier 1 / Network Defender</p>
  <p><strong>Story Context:</strong> The Blowout shattered global infrastructure. Hospitals went dark. Supply chains collapsed. The Defenders Guild was formed to rebuild what remained ‚Äî and to stop whoever is picking through the wreckage. This is your first assignment: Node Cluster 01 is offline and unresponsive. Before anything else can be done, you need to see what's out there, understand what's moving across the wire, and verify you can reach it securely.</p>
  <p><strong>Objectives:</strong> Scan the network ¬∑ Capture and analyze traffic ¬∑ Establish secure node access</p>
</div>

<!-- ACTION 1 -->
<div class="panel">
  <h3>TASK 1 ‚Äî NETWORK SCAN</h3>
  <p style="opacity:0.7;font-size:0.85rem;">The network is dark ‚Äî you don't know what's alive, what's dead, or what shouldn't be there at all. A scan maps every reachable device and open service on the subnet. In a real SOC, this is how you build situational awareness before touching anything.</p>
  <div class="node-action">
    <button id="btn-scan" onclick="doScan()">‚ñ∂ SCAN NETWORK<span class="cmd">&lt;nmap 10.0.0.0/24&gt;</span></button>
    <div class="desc">Probe the 10.0.0.0/24 subnet. Identify live hosts, open ports, and any services that shouldn't be running. An unknown device on your own network is a threat until proven otherwise.</div>
  </div>
  <p id="scan-status" style="margin-top:8px;font-size:0.85rem;color:#888;"></p>
</div>

<!-- ACTION 2 -->
<div class="panel">
  <h3>TASK 2 ‚Äî TRAFFIC CAPTURE</h3>
  <p style="opacity:0.7;font-size:0.85rem;">Scanning tells you what exists. Capturing traffic tells you what it's doing. Packet analysis is how defenders catch attackers who are already inside ‚Äî moving laterally, exfiltrating data, or waiting for a command. Watch the wire and report what you find.</p>
  <div class="node-action">
    <button id="btn-capture" onclick="doCapture()">‚ñ∂ CAPTURE TRAFFIC<span class="cmd">&lt;tcpdump -i eth0&gt;</span></button>
    <div class="desc">Intercept live packets on the primary interface. Look for anomalies: unexpected destinations, unusual volumes, or fragments of data that don't belong. The network has already been compromised once ‚Äî assume it could happen again.</div>
  </div>
  <p id="capture-status" style="margin-top:8px;font-size:0.85rem;color:#888;"></p>
</div>

<!-- ACTION 3 -->
<div class="panel">
  <h3>TASK 3 ‚Äî SECURE ACCESS</h3>
  <p style="opacity:0.7;font-size:0.85rem;">Before you can defend a node, you need to reach it without exposing your credentials. SSH creates an encrypted tunnel between you and the target ‚Äî no plaintext passwords, no interception risk. Verifying this works is non-negotiable before any remediation begins.</p>
  <div class="node-action">
    <button id="btn-access" onclick="doAccess()">‚ñ∂ TEST SECURE ACCESS<span class="cmd">&lt;ssh defender@node01&gt;</span></button>
    <div class="desc">Initiate an encrypted SSH session to Node 01. Confirm key-based authentication succeeds and the secure channel is stable. If this fails, you're blind ‚Äî everything else depends on it.</div>
  </div>
  <p id="access-status" style="margin-top:8px;font-size:0.85rem;color:#888;"></p>
</div>

<div class="log" id="log">
  <p class="info">// LAB 1 INITIALIZED ‚Äî NETWORK ORIENTATION MODULE LOADED</p>
  <p class="info">// Awaiting Defender input...</p>
</div>

<div class="panel hidden" id="complete-panel" style="box-shadow:0 0 24px rgba(0,255,204,0.6);">
  <h3 style="font-size:1.4rem;">‚úÖ LAB 1 COMPLETE ‚Äî NODE CLUSTER 01 STABILIZED</h3>
  <p>Network mapped. Traffic analyzed. Secure channel confirmed. The cluster is responsive.</p>
  <p style="color:#888;font-size:0.85rem;">Buried in the packet capture was a fragment that shouldn't exist: <em>"They are already inside."</em> Someone left that there on purpose. This isn't random infrastructure damage ‚Äî the Blowout had help.</p>
  <p><strong>SKILLS EARNED:</strong> Network Scanning ¬∑ Packet Analysis ¬∑ SSH / Secure Access ¬∑ Threat Awareness</p>
  <p><strong>CAREER RELEVANCE:</strong> SOC Tier 1 ¬∑ Network Defender ¬∑ IT Security Analyst</p>
  <br>
  <div style="display:flex;gap:14px;flex-wrap:wrap;margin-top:8px;">
    <a href="s1-lab2.html"><button>‚Üí PROCEED TO LAB 2: ANOMALY DETECTION</button></a>
    <a href="defenders-dashboard.html"><button style="border-color:#555;color:#888;">‚åÇ BACK TO DASHBOARD</button></a>
  </div>
</div>

<script>
const narrative=`> DEFENDERS GUILD ‚Äî BOOTLOADER v1.0\n> Node Cluster 01 status: OFFLINE\n> Last known contact: 14 hours ago\n> Cause: UNKNOWN\n> Defender ‚Äî assess the damage. Bring it back online.`;
let ci=0;const be=document.getElementById('boot-text');
function typeIt(){if(ci<narrative.length){be.textContent+=narrative[ci++];setTimeout(typeIt,28);}else{be.classList.remove('typing-cursor');setTimeout(()=>cookie('Hello‚Ä¶ I think I\'m online. Are you the new Defender? Node Cluster 01 went dark ‚Äî let\'s find out why.'),400);}}
typeIt();

const phases={p1:false,p2:false,p3:false};
function updatePB(){const d=Object.values(phases).filter(Boolean).length;document.getElementById('pb').style.width=(d/3*100)+'%';if(d===3)setTimeout(showComplete,600);}
function lg(m,c=''){const l=document.getElementById('log');const p=document.createElement('p');if(c)p.className=c;p.textContent=m;l.appendChild(p);l.scrollTop=l.scrollHeight;}
function cookie(m){document.getElementById('cookie-text').textContent=m;}

function doScan(){
  const btn=document.getElementById('btn-scan');
  if(btn.disabled)return;
  btn.disabled=true;
  lg('> defender@boot:~$ nmap 10.0.0.0/24');
  lg('> Starting Nmap scan on subnet...');
  cookie('Good. Mapping the network is always step one. You need to know what\'s alive before you can defend it.');
  setTimeout(()=>lg('> Host: 10.0.0.12 ‚Äî open ports: 22 (ssh), 443 (https)'),600);
  setTimeout(()=>lg('> Host: 10.0.0.18 ‚Äî open port: 5432 (database)'),1100);
  setTimeout(()=>lg('> WARNING: Unregistered device detected at 10.0.0.31','warn'),1600);
  setTimeout(()=>lg('> Scan complete. 3 hosts found, 1 unregistered.','success'),2000);
  setTimeout(()=>{
    document.getElementById('scan-status').innerHTML='<span style="color:#00ffcc;">‚úì Scan complete ‚Äî unregistered host flagged at 10.0.0.31. Task 1 done.</span>';
    phases.p1=true;updatePB();
    cookie('That unregistered device at 10.0.0.31 is a red flag. It wasn\'t there before the Blowout.');
  },2100);
}

function doCapture(){
  const btn=document.getElementById('btn-capture');
  if(btn.disabled)return;
  btn.disabled=true;
  lg('> defender@boot:~$ tcpdump -i eth0');
  lg('> Listening on eth0...');
  cookie('Watching traffic reveals attackers who are already inside. Stay focused on anything that looks out of place.');
  setTimeout(()=>lg('> Encrypted packet stream: 10.0.0.12 ‚Üí 10.0.0.18'),700);
  setTimeout(()=>lg('> Anomaly: high-volume outbound to 203.0.113.44 (external)','warn'),1300);
  setTimeout(()=>lg('> Recovered fragment from packet stream:','warn'),1900);
  setTimeout(()=>lg('> "They are already inside."','danger'),2300);
  setTimeout(()=>lg('> Capture complete. Anomalous exfil traffic logged.','success'),2700);
  setTimeout(()=>{
    document.getElementById('capture-status').innerHTML='<span style="color:#00ffcc;">‚úì Capture complete ‚Äî external exfiltration attempt detected. Task 2 done.</span>';
    phases.p2=true;updatePB();
    cookie('That fragment wasn\'t an accident. Someone planted it. This network has been inside a larger operation.');
  },2800);
}

function doAccess(){
  const btn=document.getElementById('btn-access');
  if(btn.disabled)return;
  btn.disabled=true;
  lg('> defender@boot:~$ ssh defender@node01');
  lg('> Initiating SSH handshake...');
  cookie('Encrypted access only. Never touch a compromised node over plaintext ‚Äî you\'d hand your credentials straight to the attacker.');
  setTimeout(()=>lg('> Verifying host key fingerprint...'),700);
  setTimeout(()=>lg('> Key-based authentication: ACCEPTED'),1200);
  setTimeout(()=>lg('> Secure channel established to node01','success'),1700);
  setTimeout(()=>lg('> Session encrypted. Node 01 is reachable.','success'),2100);
  setTimeout(()=>{
    document.getElementById('access-status').innerHTML='<span style="color:#00ffcc;">‚úì Secure channel confirmed. Node 01 accessible. Task 3 done.</span>';
    phases.p3=true;updatePB();
    cookie('Good. Secure access is live. You\'re ready to work on this node without exposing yourself.');
  },2200);
}

function showComplete(){
  localStorage.setItem('s1lab1','complete');
  document.getElementById('complete-panel').classList.remove('hidden');
  document.getElementById('complete-panel').scrollIntoView({behavior:'smooth'});
  lg('>>> LAB 1 COMPLETE. NODE CLUSTER 01 STABILIZED. <<<','success');
  cookie('Lab 1 done. The network is mapped and the channel is secure. But that fragment in the traffic ‚Äî someone wanted you to find it. Keep moving.');
}
</script>
</body>
</html>
