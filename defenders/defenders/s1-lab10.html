<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>DEFENDERS ‚Äî Lab 10: Fill Specter</title>

<style>

body {
  background:#000;
  color:#00ffcc;
  font-family:'Courier New', monospace;
  padding:20px;
}

.panel {
  border:1px solid #00ffcc;
  padding:18px;
  margin:20px 0;
  background:rgba(0,0,0,.92);
}

button {
  background:#000;
  border:1px solid #00ffcc;
  color:#00ffcc;
  padding:10px 16px;
  cursor:pointer;
}

button:hover { background:#002; }

.hidden { display:none; }

.log {
  border:1px solid #00ffcc;
  background:#001;
  height:260px;
  overflow-y:auto;
  padding:10px;
  font-size:.85rem;
}

.option {
  border:1px solid #00ffcc;
  padding:10px;
  margin:10px 0;
  cursor:pointer;
}

.option:hover { background:#002; }

.typing::after {
  content:"_";
  animation:blink 1s infinite;
}

@keyframes blink { 50%{opacity:0;} }

#cookie {
  position:fixed;
  right:20px;
  top:20px;
  width:260px;
  border:1px solid #00ffcc;
  padding:12px;
}

</style>
</head>

<body>

<h1>LAB 10 ‚Äî BOSS: Fill Specter</h1>

<div id="boot" class="typing"></div>

<div class="panel hidden" id="phase1">
<h3>Phase 1: Deception Layer</h3>
<p>Specter injects false positives to overwhelm detection systems.</p>

<div class="option" onclick="deception(true)">
Correlate alerts across telemetry sources
</div>

<div class="option" onclick="deception(false)">
Trigger mass containment
</div>
</div>

<div class="panel hidden" id="phase2">
<h3>Phase 2: Psychological Exploit</h3>
<p>Specter exposes Defender logs to test your reaction speed.</p>

<div class="option" onclick="psych(true)">
Isolate exposed system & preserve forensic chain
</div>

<div class="option" onclick="psych(false)">
Shut down entire node immediately
</div>
</div>

<div class="panel hidden" id="phase3">
<h3>Phase 3: Kernel-Level Persistence</h3>
<p>Rootkit signature detected.</p>

<div class="option" onclick="kernel(true)">
Deploy memory capture + reimage protocol
</div>

<div class="option" onclick="kernel(false)">
Attempt live removal
</div>
</div>

<div class="panel hidden" id="ethical">
<h3>Final Phase: Ethical Decision</h3>
<p>
Specter leaves behind a surveillance backdoor.
It could allow you to monitor future attackers preemptively.
But it also collects user behavioral metadata.
</p>

<div class="option" onclick="ethics('keep')">
Keep the backdoor for intelligence gathering
</div>

<div class="option" onclick="ethics('destroy')">
Destroy it to preserve privacy integrity
</div>
</div>

<div class="panel hidden" id="victory">
<h2>Fill Specter Neutralized</h2>
<p>
Season 1 Complete.  
But consequences travel forward.
</p>

<button onclick="returnDashboard()">Return to Dashboard</button>
</div>

<div class="log" id="log"></div>

<div class="panel">
<h3>Vault Integrity</h3>
<p id="score">85%</p>
</div>

<div id="cookie">üêï Cookie: Specter signal detected.</div>

<script>

let score = 85;

function log(msg){
  document.getElementById("log").innerHTML += "> " + msg + "<br>";
}

function update(val){
  score += val;
  document.getElementById("score").innerText = score + "%";
}

function cookie(msg){
  document.getElementById("cookie").innerText = "üêï Cookie: " + msg;
}

function boot(){
  let text = `
WARNING: ENTITY IDENTIFIED.

SIGNATURE MATCH: FILL SPECTER.

Darwin:
"He studies defenders.
Stay calm."
`;
  let i=0;
  let el=document.getElementById("boot");

  function type(){
    if(i<text.length){
      el.innerHTML+=text[i];
      i++;
      setTimeout(type,20);
    } else {
      el.classList.remove("typing");
      document.getElementById("phase1").classList.remove("hidden");
    }
  }
  type();
}

function deception(correct){
  if(correct){
    log("False positives identified. Signal clarified.");
    update(5);
    cookie("Specter escalating.");
    document.getElementById("phase1").classList.add("hidden");
    document.getElementById("phase2").classList.remove("hidden");
  } else {
    log("Resources overwhelmed.");
    update(-15);
  }
}

function psych(correct){
  if(correct){
    log("Forensic chain preserved.");
    update(5);
    cookie("Persistence detected.");
    document.getElementById("phase2").classList.add("hidden");
    document.getElementById("phase3").classList.remove("hidden");
  } else {
    log("Node instability triggered.");
    update(-10);
  }
}

function kernel(correct){
  if(correct){
    log("Rootkit neutralized via reimage.");
    update(10);
    cookie("Specter retreating...");
    document.getElementById("phase3").classList.add("hidden");
    document.getElementById("ethical").classList.remove("hidden");
  } else {
    log("Persistence remains hidden.");
    update(-20);
  }
}

function ethics(choice){

  localStorage.setItem("season2_ethics", choice);

  if(choice === "keep"){
    log("Backdoor preserved for intelligence use.");
    cookie("Power carries weight.");
  } else {
    log("Backdoor destroyed. Privacy upheld.");
    cookie("Integrity chosen.");
  }

  document.getElementById("ethical").classList.add("hidden");
  document.getElementById("victory").classList.remove("hidden");
}

function returnDashboard(){
  window.location.href = "dashboard.html";
}

boot();

</script>

</body>
</html>
